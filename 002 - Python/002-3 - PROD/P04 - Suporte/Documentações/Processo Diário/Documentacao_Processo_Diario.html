<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documenta√ß√£o - Processo Di√°rio Completo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .section h3 {
            color: #764ba2;
            font-size: 1.4em;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .info-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .error-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #e83e8c;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
        }

        pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        .flow-diagram {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .flow-step {
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            position: relative;
            transition: transform 0.2s;
        }

        .flow-step:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .flow-step::before {
            content: "‚Üí";
            position: absolute;
            left: -25px;
            top: 50%;
            transform: translateY(-50%);
            color: #667eea;
            font-size: 1.5em;
            font-weight: bold;
        }

        .flow-step:first-child::before {
            content: "‚ñ∂";
        }

        .step-number {
            display: inline-block;
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }

        .script-list {
            list-style: none;
            padding: 0;
        }

        .script-list li {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
            border-radius: 5px;
        }

        .script-list li strong {
            color: #667eea;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        table th, table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        table th {
            background: #667eea;
            color: white;
        }

        table tr:hover {
            background: #f8f9fa;
        }

        .metadata {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .metadata-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
        }

        .metadata-item strong {
            color: #667eea;
            display: block;
            margin-bottom: 5px;
        }

        .checkpoint {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .checkpoint strong {
            color: #856404;
        }

        footer {
            background: #2d2d2d;
            color: white;
            text-align: center;
            padding: 20px;
        }

        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin-left: 10px;
        }

        .badge-success {
            background: #28a745;
            color: white;
        }

        .badge-warning {
            background: #ffc107;
            color: #333;
        }

        .badge-error {
            background: #dc3545;
            color: white;
        }

        .badge-info {
            background: #17a2b8;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìã Processo Di√°rio Completo</h1>
            <p class="subtitle">Documenta√ß√£o T√©cnica Completa</p>
        </header>

        <div class="content">
            <!-- Metadados -->
            <div class="section">
                <h2>üìå Informa√ß√µes Gerais</h2>
                <div class="metadata">
                    <div class="metadata-item">
                        <strong>Autor:</strong>
                        <span>Marcelo Cardoso</span>
                    </div>
                    <div class="metadata-item">
                        <strong>Data de Cria√ß√£o:</strong>
                        <span>2026-01-06</span>
                    </div>
                    <div class="metadata-item">
                        <strong>Tipo:</strong>
                        <span>Orquestra√ß√£o de Processos</span>
                    </div>
                    <div class="metadata-item">
                        <strong>Ambiente:</strong>
                        <span>Produ√ß√£o (PROD)</span>
                    </div>
                </div>
            </div>

            <!-- Vis√£o Geral -->
            <div class="section">
                <h2>üéØ Vis√£o Geral</h2>
                <div class="info-box">
                    <p><strong>Objetivo Principal:</strong></p>
                    <p>Este script orquestra um processo completo de ETL (Extract, Transform, Load) que realiza backup de arquivos locais, executa uma sequ√™ncia de scripts Python em ordem espec√≠fica, valida checkpoints cr√≠ticos e finaliza com a limpeza de pastas tempor√°rias e execu√ß√£o do processo final de controle de pagamentos.</p>
                </div>

                <h3>Funcionalidades Principais</h3>
                <ul style="margin-left: 20px; line-height: 2;">
                    <li>üíæ <strong>Backup Autom√°tico:</strong> Cria backup completo de pastas de bases antes do processamento</li>
                    <li>üîÑ <strong>Orquestra√ß√£o de Scripts:</strong> Executa 9 scripts em sequ√™ncia controlada</li>
                    <li>‚úÖ <strong>Valida√ß√£o de Checkpoints:</strong> Verifica status de valida√ß√£o antes de continuar</li>
                    <li>üßπ <strong>Limpeza Autom√°tica:</strong> Remove arquivos tempor√°rios ap√≥s processamento bem-sucedido</li>
                    <li>üöÄ <strong>Processo Final:</strong> Executa dashboard de controle de pagamentos ao final</li>
                    <li>‚ö†Ô∏è <strong>Tratamento de Erros:</strong> Interrompe processo em caso de falha cr√≠tica</li>
                </ul>
            </div>

            <!-- Estrutura de Diret√≥rios -->
            <div class="section">
                <h2>üìÅ Estrutura de Diret√≥rios e Configura√ß√µes</h2>
                
                <h3>Caminhos Base</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Vari√°vel</th>
                            <th>Caminho</th>
                            <th>Descri√ß√£o</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>CAMINHO_BASE</code></td>
                            <td><code>G:\...\002-3 - PROD\P01 - Rotina</code></td>
                            <td>Diret√≥rio raiz onde est√£o os scripts a serem executados</td>
                        </tr>
                        <tr>
                            <td><code>CAMINHO_STATUS</code></td>
                            <td><code>G:\...\STAGE\...\status_validacao.txt</code></td>
                            <td>Arquivo de status usado para valida√ß√£o de checkpoint</td>
                        </tr>
                        <tr>
                            <td><code>SCRIPT_FINAL</code></td>
                            <td><code>G:\...\003 - Dashboards\...\000 - Processo completo Pagamento.py</code></td>
                            <td>Script final de controle de pagamentos (PBD)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Pastas de Backup</h3>
                <div class="info-box">
                    <p><strong>Origens (Backup):</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><code>C:\Users\mcard\Desktop\eLAW Bases D-1</code></li>
                        <li><code>C:\Users\mcard\Desktop\eLAW Bases</code></li>
                        <li><code>C:\Users\mcard\Desktop\Salesforce Bases</code></li>
                    </ul>
                    <p style="margin-top: 15px;"><strong>Destino:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li><code>C:\Users\mcard\Desktop\Backup Bases</code></li>
                    </ul>
                </div>

                <h3>Pastas para Limpeza</h3>
                <div class="warning-box">
                    <p><strong>‚ö†Ô∏è Aten√ß√£o:</strong> As seguintes pastas s√£o completamente limpas ao final do processo:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><code>C:\Users\mcard\Desktop\Salesforce Bases</code></li>
                        <li><code>C:\Users\mcard\Desktop\eLAW Bases</code></li>
                        <li><code>C:\Users\mcard\Desktop\eLAW Bases D-1</code></li>
                    </ul>
                </div>
            </div>

            <!-- Fluxo de Execu√ß√£o -->
            <div class="section">
                <h2>üîÑ Fluxo de Execu√ß√£o</h2>
                
                <div class="flow-diagram">
                    <div class="flow-step">
                        <span class="step-number">1</span>
                        <strong>Backup Inicial</strong>
                        <p>Executa backup completo das pastas de bases antes de iniciar o processamento. Limpa e recria a pasta de destino, copiando todas as pastas de origem mantendo sua estrutura.</p>
                    </div>

                    <div class="flow-step">
                        <span class="step-number">2</span>
                        <strong>Execu√ß√£o Sequencial de Scripts</strong>
                        <p>Executa 9 scripts Python em ordem espec√≠fica, com tratamento de erros e checkpoints de valida√ß√£o.</p>
                    </div>

                    <div class="checkpoint">
                        <strong>üîç Checkpoint: Valida√ß√£o de Processo</strong>
                        <p>Ap√≥s o script "002 - Valida√ß√£o de processo.py", verifica se o arquivo <code>status_validacao.txt</code> existe e cont√©m "OK". Se n√£o, interrompe o processo.</p>
                    </div>

                    <div class="checkpoint">
                        <strong>üîç Checkpoint: ETL Principal</strong>
                        <p>Ap√≥s o script "004 - ETL de arquivos.py", marca <code>sucesso_etl = True</code>. Este flag √© necess√°rio para executar o processo final.</p>
                    </div>

                    <div class="flow-step">
                        <span class="step-number">3</span>
                        <strong>Limpeza de Pastas Tempor√°rias</strong>
                        <p>Executada apenas se n√£o houver erros e o ETL foi bem-sucedido. Remove todos os arquivos e subpastas das pastas tempor√°rias.</p>
                    </div>

                    <div class="flow-step">
                        <span class="step-number">4</span>
                        <strong>Processo Final (PBD)</strong>
                        <p>Executa o script de controle de pagamentos apenas se todas as condi√ß√µes anteriores foram atendidas.</p>
                    </div>
                </div>
            </div>

            <!-- Scripts Executados -->
            <div class="section">
                <h2>üìú Scripts Executados em Sequ√™ncia</h2>
                
                <ol class="script-list">
                    <li>
                        <strong>1. Backup de bases extra√≠das</strong>
                        <p><code>Backup de bases extraidas\Backup.py</code></p>
                        <p>Realiza backup adicional das bases extra√≠das.</p>
                    </li>
                    <li>
                        <strong>2. Carga de bases em stage</strong>
                        <p><code>001 - Carga de bases em stage.py</code></p>
                        <p>Carrega as bases para o ambiente STAGE.</p>
                    </li>
                    <li>
                        <strong>3. Extras - Summary Am√©lia</strong>
                        <p><code>Extras\Summary_Amelia.py</code></p>
                        <p>Processa resumo adicional (Am√©lia).</p>
                    </li>
                    <li>
                        <strong>4. Confronto de disponibilidade</strong>
                        <p><code>002 - Confronto_de_disponibilidade.py</code></p>
                        <p>Realiza confronto de disponibilidade de dados.</p>
                    </li>
                    <li>
                        <strong>5. Valida√ß√£o de processo</strong>
                        <p><code>Passador\002 - Valida√ß√£o de processo.py</code></p>
                        <p>Valida o processo e cria arquivo de status. <span class="badge badge-warning">CHECKPOINT</span></p>
                    </li>
                    <li>
                        <strong>6. Limpeza de pastas</strong>
                        <p><code>003 - Limpeza de pastas.py</code></p>
                        <p><span class="badge badge-info">PULADO</span> - Executado via fun√ß√£o Python ao final.</p>
                    </li>
                    <li>
                        <strong>7. ETL de arquivos</strong>
                        <p><code>004 - ETL de arquivos.py</code></p>
                        <p>ETL principal de transforma√ß√£o de dados. <span class="badge badge-warning">CHECKPOINT</span></p>
                    </li>
                    <li>
                        <strong>8. Download Bucket</strong>
                        <p><code>..\Download de banco\002 - Download Bucket.py</code></p>
                        <p>Faz download de arquivos do bucket externo.</p>
                    </li>
                    <li>
                        <strong>9. CODA - Input</strong>
                        <p><code>CODA - Input.py</code></p>
                        <p>Prepara input final para o sistema CODA.</p>
                    </li>
                </ol>
            </div>

            <!-- Fun√ß√µes Principais -->
            <div class="section">
                <h2>‚öôÔ∏è Fun√ß√µes Principais</h2>

                <h3>1. executar_backup_inicial(origens, destino_raiz)</h3>
                <div class="info-box">
                    <p><strong>Descri√ß√£o:</strong> Limpa a pasta de destino raiz e copia as pastas de origem inteiras para dentro dela, mantendo a estrutura de diret√≥rios.</p>
                    <p><strong>Par√¢metros:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li><code>origens</code>: Lista de caminhos das pastas de origem</li>
                        <li><code>destino_raiz</code>: Caminho da pasta de destino raiz</li>
                    </ul>
                    <p><strong>Comportamento:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li>Remove completamente a pasta de destino se existir</li>
                        <li>Cria nova pasta de destino</li>
                        <li>Copia cada pasta de origem mantendo seu nome</li>
                        <li>Trata erros de forma individual por pasta</li>
                    </ul>
                </div>

                <h3>2. limpar_pastas(pastas)</h3>
                <div class="warning-box">
                    <p><strong>Descri√ß√£o:</strong> Limpa arquivos e subpastas dos diret√≥rios listados. <strong>ATEN√á√ÉO:</strong> Esta fun√ß√£o remove permanentemente todos os conte√∫dos das pastas especificadas.</p>
                    <p><strong>Par√¢metros:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li><code>pastas</code>: Lista de caminhos das pastas a serem limpas</li>
                    </ul>
                    <p><strong>Comportamento:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li>Remove arquivos e links simb√≥licos</li>
                        <li>Remove subpastas recursivamente</li>
                        <li>Continua processando mesmo se houver erros em itens individuais</li>
                        <li>Ignora pastas que n√£o existem</li>
                    </ul>
                </div>
            </div>

            <!-- Checkpoints e Valida√ß√µes -->
            <div class="section">
                <h2>‚úÖ Checkpoints e Valida√ß√µes</h2>

                <div class="checkpoint">
                    <h3>Checkpoint 1: Valida√ß√£o de Processo</h3>
                    <p><strong>Localiza√ß√£o:</strong> Ap√≥s execu√ß√£o de "002 - Valida√ß√£o de processo.py"</p>
                    <p><strong>Valida√ß√£o:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Verifica exist√™ncia do arquivo <code>status_validacao.txt</code></li>
                        <li>L√™ o conte√∫do do arquivo</li>
                        <li>Compara com "OK" (case-insensitive)</li>
                        <li><strong>A√ß√£o em caso de falha:</strong> Interrompe o processo com exce√ß√£o</li>
                    </ul>
                </div>

                <div class="checkpoint">
                    <h3>Checkpoint 2: ETL Principal</h3>
                    <p><strong>Localiza√ß√£o:</strong> Ap√≥s execu√ß√£o de "004 - ETL de arquivos.py"</p>
                    <p><strong>Valida√ß√£o:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Marca flag <code>sucesso_etl = True</code></li>
                        <li>Este flag √© necess√°rio para executar limpeza e processo final</li>
                        <li><strong>A√ß√£o em caso de falha:</strong> Processo final n√£o √© executado</li>
                    </ul>
                </div>
            </div>

            <!-- Tratamento de Erros -->
            <div class="section">
                <h2>‚ö†Ô∏è Tratamento de Erros</h2>

                <div class="error-box">
                    <h3>Erros Cr√≠ticos (subprocess.CalledProcessError)</h3>
                    <p>Ocorrem quando um script filho retorna c√≥digo de erro diferente de zero.</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>A√ß√£o:</strong> Interrompe imediatamente a execu√ß√£o</li>
                        <li><strong>Flag:</strong> <code>erro_detectado = True</code></li>
                        <li><strong>Resultado:</strong> Limpeza e processo final N√ÉO s√£o executados</li>
                    </ul>
                </div>

                <div class="warning-box">
                    <h3>Erros de Fluxo (Exception)</h3>
                    <p>Ocorrem em checkpoints de valida√ß√£o ou outras verifica√ß√µes de fluxo.</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>A√ß√£o:</strong> Interrompe a execu√ß√£o</li>
                        <li><strong>Flag:</strong> <code>erro_detectado = True</code></li>
                        <li><strong>Resultado:</strong> Limpeza e processo final N√ÉO s√£o executados</li>
                    </ul>
                </div>

                <div class="info-box">
                    <h3>Erros N√£o-Cr√≠ticos</h3>
                    <p>Erros em opera√ß√µes individuais (ex: copiar uma pasta espec√≠fica no backup) s√£o tratados individualmente e n√£o interrompem o processo principal.</p>
                </div>
            </div>

            <!-- Condi√ß√µes para Execu√ß√£o Final -->
            <div class="section">
                <h2>üöÄ Condi√ß√µes para Execu√ß√£o do Processo Final</h2>

                <div class="success-box">
                    <p><strong>O processo final (PBD - Controle de Pagamentos) √© executado APENAS se:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>‚úÖ <code>erro_detectado == False</code> (nenhum erro ocorreu)</li>
                        <li>‚úÖ <code>sucesso_etl == True</code> (ETL principal foi executado com sucesso)</li>
                    </ul>
                </div>

                <div class="warning-box">
                    <p><strong>Se alguma condi√ß√£o n√£o for atendida:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>‚ö†Ô∏è Limpeza de pastas N√ÉO √© executada</li>
                        <li>‚ö†Ô∏è Processo final (PBD) N√ÉO √© executado</li>
                        <li>‚ö†Ô∏è Mensagens informativas s√£o exibidas indicando o motivo</li>
                    </ul>
                </div>
            </div>

            <!-- Logs e Sa√≠da -->
            <div class="section">
                <h2>üìä Logs e Sa√≠da</h2>

                <h3>Formato de Logs</h3>
                <pre><code>üïí Execu√ß√£o iniciada: YYYY-MM-DD HH:MM:SS
============================================================

üíæ Iniciando Backup Pr√©vio dos Arquivos Locais...
   - Limpando destino existente: ...
   - Copiando pasta inteira: ...
‚úÖ Backup pr√©vio finalizado.

üîÑ Executando: [nome_do_script]
‚úÖ Sucesso: [nome_do_script]

üîç Checkpoint validado: [tipo]

üßπ Iniciando limpeza das pastas tempor√°rias...
   - Limpando: ...
‚úÖ Limpeza de pastas finalizada.

üöÄ Iniciando processo final (PBD - Controle de Pagamentos)...
üèÜ PROCESSO COMPLETO FINALIZADO COM SUCESSO! üèÜ

üïí Fim da execu√ß√£o: YYYY-MM-DD HH:MM:SS</code></pre>

                <h3>Emojis Utilizados</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Emoji</th>
                            <th>Significado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>üíæ</td>
                            <td>Opera√ß√£o de backup</td>
                        </tr>
                        <tr>
                            <td>üîÑ</td>
                            <td>Execu√ß√£o de script</td>
                        </tr>
                        <tr>
                            <td>‚úÖ</td>
                            <td>Sucesso</td>
                        </tr>
                        <tr>
                            <td>‚ùå</td>
                            <td>Erro</td>
                        </tr>
                        <tr>
                            <td>‚ö†Ô∏è</td>
                            <td>Aviso</td>
                        </tr>
                        <tr>
                            <td>üßπ</td>
                            <td>Limpeza</td>
                        </tr>
                        <tr>
                            <td>üöÄ</td>
                            <td>Processo final</td>
                        </tr>
                        <tr>
                            <td>üèÜ</td>
                            <td>Sucesso final</td>
                        </tr>
                        <tr>
                            <td>üïí</td>
                            <td>Timestamp</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Depend√™ncias -->
            <div class="section">
                <h2>üì¶ Depend√™ncias e Requisitos</h2>

                <h3>Bibliotecas Python Utilizadas</h3>
                <ul style="margin-left: 20px; line-height: 2;">
                    <li><code>subprocess</code> - Execu√ß√£o de scripts Python filhos</li>
                    <li><code>os</code> - Opera√ß√µes de sistema de arquivos</li>
                    <li><code>shutil</code> - Opera√ß√µes de c√≥pia e remo√ß√£o de arquivos/pastas</li>
                    <li><code>datetime</code> - Timestamps de in√≠cio e fim</li>
                </ul>

                <h3>Requisitos do Sistema</h3>
                <ul style="margin-left: 20px; line-height: 2;">
                    <li>Python 3.x instalado e no PATH</li>
                    <li>Acesso de leitura/escrita aos diret√≥rios especificados</li>
                    <li>Permiss√µes para executar scripts Python</li>
                    <li>Espa√ßo em disco suficiente para backups</li>
                </ul>
            </div>

            <!-- Considera√ß√µes Importantes -->
            <div class="section">
                <h2>‚ö†Ô∏è Considera√ß√µes Importantes</h2>

                <div class="warning-box">
                    <h3>1. Limpeza de Pastas</h3>
                    <p>A fun√ß√£o <code>limpar_pastas()</code> remove <strong>PERMANENTEMENTE</strong> todos os arquivos e subpastas. Certifique-se de que:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Os backups foram criados corretamente</li>
                        <li>N√£o h√° dados importantes nas pastas a serem limpas</li>
                        <li>O processo foi executado com sucesso at√© o final</li>
                    </ul>
                </div>

                <div class="info-box">
                    <h3>2. Ordem de Execu√ß√£o</h3>
                    <p>A ordem dos scripts √© <strong>cr√≠tica</strong>. Altera√ß√µes na sequ√™ncia podem causar falhas em scripts dependentes.</p>
                </div>

                <div class="info-box">
                    <h3>3. Checkpoints</h3>
                    <p>Os checkpoints garantem a integridade do processo. N√£o remova ou modifique as valida√ß√µes sem entender completamente o impacto.</p>
                </div>

                <div class="error-box">
                    <h3>4. Tratamento de Erros</h3>
                    <p>Em caso de erro, o processo √© interrompido imediatamente. Verifique os logs para identificar o script que falhou e a causa do erro.</p>
                </div>
            </div>

            <!-- Diagrama de Fluxo Simplificado -->
            <div class="section">
                <h2>üìà Diagrama de Fluxo Simplificado</h2>
                <div class="info-box" style="text-align: center; padding: 30px;">
                    <pre style="background: white; color: #333; text-align: left;">
IN√çCIO
  ‚îÇ
  ‚îú‚îÄ‚Üí [1] Backup Inicial
  ‚îÇ     ‚îî‚îÄ‚Üí Copiar pastas de bases
  ‚îÇ
  ‚îú‚îÄ‚Üí [2] Loop de Scripts (1-9)
  ‚îÇ     ‚îÇ
  ‚îÇ     ‚îú‚îÄ‚Üí Script 1: Backup bases extra√≠das
  ‚îÇ     ‚îú‚îÄ‚Üí Script 2: Carga em stage
  ‚îÇ     ‚îú‚îÄ‚Üí Script 3: Summary Am√©lia
  ‚îÇ     ‚îú‚îÄ‚Üí Script 4: Confronto disponibilidade
  ‚îÇ     ‚îú‚îÄ‚Üí Script 5: Valida√ß√£o de processo
  ‚îÇ     ‚îÇ     ‚îî‚îÄ‚Üí ‚úÖ CHECKPOINT: status_validacao.txt == "OK"
  ‚îÇ     ‚îú‚îÄ‚Üí Script 6: Limpeza (PULADO)
  ‚îÇ     ‚îú‚îÄ‚Üí Script 7: ETL de arquivos
  ‚îÇ     ‚îÇ     ‚îî‚îÄ‚Üí ‚úÖ CHECKPOINT: sucesso_etl = True
  ‚îÇ     ‚îú‚îÄ‚Üí Script 8: Download Bucket
  ‚îÇ     ‚îî‚îÄ‚Üí Script 9: CODA Input
  ‚îÇ
  ‚îú‚îÄ‚Üí [3] Verifica√ß√£o Final
  ‚îÇ     ‚îú‚îÄ‚Üí erro_detectado == False?
  ‚îÇ     ‚îî‚îÄ‚Üí sucesso_etl == True?
  ‚îÇ
  ‚îú‚îÄ‚Üí [4] Se OK:
  ‚îÇ     ‚îú‚îÄ‚Üí Limpar pastas tempor√°rias
  ‚îÇ     ‚îî‚îÄ‚Üí Executar Processo Final (PBD)
  ‚îÇ
  ‚îî‚îÄ‚Üí FIM
                    </pre>
                </div>
            </div>
        </div>

        <footer>
            <p><strong>Documenta√ß√£o gerada em:</strong> <span id="data-geracao"></span></p>
            <p>Legales Analytics - Processo Di√°rio Completo</p>
        </footer>
    </div>

    <script>
        // Adiciona data de gera√ß√£o
        document.getElementById('data-geracao').textContent = new Date().toLocaleString('pt-BR');
    </script>
</body>
</html>